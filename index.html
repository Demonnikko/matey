<!doctype html>
<html lang="ru">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="google-site-verification" content="WjRiCXrJTOCQYNEiUI_P3vhp3GeEY8a5jRrrAr5AWeE" />
  <!-- Yandex.Metrika counter -->
  <script type="text/javascript">
    (function (m, e, t, r, i, k, a) {
      m[i] = m[i] || function () { (m[i].a = m[i].a || []).push(arguments) };
      m[i].l = 1 * new Date();
      for (var j = 0; j < document.scripts.length; j++) { if (document.scripts[j].src === r) { return; } }
      k = e.createElement(t), a = e.getElementsByTagName(t)[0], k.async = 1, k.src = r, a.parentNode.insertBefore(k, a)
    })
      (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(106795279, "init", {
      clickmap: true,
      trackLinks: true,
      accurateTrackBounce: true,
      webvisor: true
    });
  </script>
  <noscript>
    <div><img src="https://mc.yandex.ru/watch/106795279" style="position:absolute; left:-9999px;" alt="" /></div>
  </noscript>
  <!-- /Yandex.Metrika counter -->
  <title>–°–ø–∞—Å—Ç–∏ –ú–∞—Ç–≤–µ—è - –ú–∞–≥–∏—á–µ—Å–∫–∏–π –∫–≤–µ—Å—Ç-—Å–ø–µ–∫—Ç–∞–∫–ª—å</title>
  <style>
    @import url("https://fonts.cdnfonts.com/css/kenyan-coffee");
    @import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&family=Playfair+Display:wght@400;500;600;700;800;900&family=Inter:wght@400;500;600;700&display=swap");

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      overflow-x: hidden;
      width: 100%;
    }

    body {
      font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
      background: radial-gradient(ellipse at 50% 20%,
          rgba(255, 140, 0, 0.12) 0%,
          transparent 50%),
        radial-gradient(ellipse at 20% 80%,
          rgba(255, 215, 0, 0.08) 0%,
          transparent 40%),
        #000000;
      color: #f5f5f7;
      width: 100%;
      max-width: 100vw;
      overflow-x: hidden;
      overflow-y: hidden;
      /* Scroll is handled by .container */
      -webkit-font-smoothing: antialiased;
      position: relative;
    }

    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(0deg,
          rgba(255, 255, 255, 0.015) 0px,
          transparent 1px,
          transparent 2px,
          rgba(255, 255, 255, 0.015) 3px);
      pointer-events: none;
      z-index: 1;
      opacity: 0.4;
    }

    .container {
      scroll-snap-type: y mandatory;
      height: 100vh;
      /* Use dynamic viewport height for mobile browsers to avoid URL bar issues */
      height: 100dvh;
      overflow-y: scroll;
      -webkit-overflow-scrolling: touch;
      scroll-behavior: smooth;
      width: 100%;
    }

    @media (prefers-reduced-motion: no-preference) {
      .container {
        scroll-behavior: smooth;
      }
    }

    .block {
      scroll-snap-align: start;
      scroll-snap-stop: normal;
      min-height: 100vh;
      min-height: 100dvh;
      position: relative;
      width: 100%;
      overflow: hidden;
      /* Prevent horizontal spill */
    }

    /* –ó–Ω–∞—á–æ–∫ 6+ - —Å–ø—Ä–∞–≤–∞ –Ω–∞ –¥–≤–µ —Å—Ç—Ä–æ–∫–∏ */
    .age-badge {
      display: flex;
      width: 50px;
      height: 50px;
      border: 2.5px solid #ffd700;
      border-radius: 50%;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
      font-weight: 800;
      background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      box-shadow:
        0 0 30px rgba(255, 215, 0, 0.8),
        inset 0 0 20px rgba(255, 215, 0, 0.4);
      flex-shrink: 0;
      animation: badgeGlow 3s ease-in-out infinite;
    }

    @keyframes badgeGlow {

      0%,
      100% {
        box-shadow:
          0 0 30px rgba(255, 215, 0, 0.8),
          inset 0 0 20px rgba(255, 215, 0, 0.4);
      }

      50% {
        box-shadow:
          0 0 40px rgba(255, 215, 0, 1),
          inset 0 0 25px rgba(255, 215, 0, 0.6);
      }
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–µ—Ä–≤–æ–≥–æ –±–ª–æ–∫–∞ */
    .hero-subtitle {
      font-size: 3.8vw;
      font-weight: 600;
      letter-spacing: 0.15em;
      margin-bottom: 0.5vh;
      color: #ffffff;
      text-transform: uppercase;
      filter: drop-shadow(0 0 25px rgba(255, 215, 0, 0.8));
      /* REPLACEMENT: "Circle" -> "Montserrat" */
      font-family: "Montserrat", sans-serif;
      font-weight: 300;
      white-space: nowrap;
      width: auto;
      animation: titleGlow 3s ease-in-out infinite;
    }

    @keyframes titleGlow {

      0%,
      100% {
        filter: drop-shadow(0 0 25px rgba(255, 215, 0, 0.8));
      }

      50% {
        filter: drop-shadow(0 0 35px rgba(255, 215, 0, 1));
      }
    }

    .hero-title {
      font-size: 17vw;
      font-weight: 900;
      letter-spacing: 0.02em;
      margin: 2vh 0;
      background: linear-gradient(135deg,
          #ffd700 0%,
          #ffed4e 30%,
          #ffd700 50%,
          #ffb347 70%,
          #ffa500 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      filter: drop-shadow(0 0 50px rgba(255, 215, 0, 1)) drop-shadow(0 4px 20px rgba(255, 140, 0, 0.8));
      line-height: 1;
      /* REPLACEMENT: "Circle" -> "Montserrat" */
      font-family: "Montserrat", sans-serif;
      font-weight: 700;
      text-transform: uppercase;
      width: auto;
      animation: mainTitleGlow 3s ease-in-out infinite;
    }

    @keyframes mainTitleGlow {

      0%,
      100% {
        filter: drop-shadow(0 0 50px rgba(255, 215, 0, 1)) drop-shadow(0 4px 20px rgba(255, 140, 0, 0.8));
      }

      50% {
        filter: drop-shadow(0 0 65px rgba(255, 215, 0, 1)) drop-shadow(0 4px 25px rgba(255, 140, 0, 1));
      }
    }

    .hero-info {
      font-size: 5vw;
      font-weight: 700;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      /* Font loaded via CDN */
      font-family: "Kenyan Coffee", "Impact", sans-serif;
      line-height: 1.4;
      margin-bottom: 0.5vh;
      background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.7));
      white-space: nowrap;
    }

    .hero-tagline {
      /* Font loaded via CDN */
      font-family: "Kenyan Coffee", "Impact", sans-serif;
      font-size: 6vw;
      font-weight: 700;
      font-style: normal;
      color: #fff;
      margin-top: 3vh;
      margin-bottom: 5vh;
      /* –û—Ç—Å—Ç—É–ø –ø–µ—Ä–µ–¥ –∫–Ω–æ–ø–∫–æ–π */
      text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
    }

    /* –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è */
    .story-content {
      opacity: 1;
      /* –°—Ä–∞–∑—É –≤–∏–¥–∏–º—ã–π */
      min-height: 100vh;
      min-height: 100dvh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 8vh 4vw;
      position: relative;
      z-index: 2;
      text-align: center;
    }

    .story-content.visible {
      opacity: 1;
    }

    @keyframes textGlow {

      0%,
      100% {
        filter: drop-shadow(0 0 40px rgba(255, 215, 0, 0.9)) drop-shadow(0 2px 8px rgba(255, 140, 0, 0.6)) drop-shadow(0 4px 15px rgba(255, 165, 0, 0.4));
      }

      50% {
        filter: drop-shadow(0 0 50px rgba(255, 215, 0, 1)) drop-shadow(0 2px 10px rgba(255, 140, 0, 0.8)) drop-shadow(0 4px 20px rgba(255, 165, 0, 0.6));
      }
    }

    /* CTA —Å–µ–∫—Ü–∏—è */
    .cta-section {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 3vh;
      opacity: 1;
      /* –°—Ä–∞–∑—É –≤–∏–¥–∏–º—ã–π */
      transform: translateY(0);
    }

    .cta-section.visible {
      animation: fadeInUp 1s ease-out forwards;
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .cta-section.visible .buy-tickets-btn {
      animation:
        buttonAppear 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s both,
        buttonGlow 2s ease-in-out 1.1s infinite;
    }

    @keyframes buttonAppear {
      0% {
        opacity: 0;
        transform: scale(0.7) translateY(20px);
      }

      100% {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }

    .buy-tickets-btn {
      display: inline-block;
      padding: 18px 60px;
      background: linear-gradient(135deg,
          #ffd700 0%,
          #ffed4e 50%,
          #ffa500 100%);
      color: #000;
      text-decoration: none;
      font-size: 5.5vw;
      font-weight: 700;
      letter-spacing: 0.08em;
      border-radius: 50px;
      text-transform: uppercase;
      font-family: "Inter", sans-serif;
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      box-shadow:
        0 8px 30px rgba(255, 215, 0, 0.6),
        0 4px 15px rgba(255, 165, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
      position: relative;
      overflow: hidden;
      animation: buttonGlow 2s ease-in-out infinite;
    }

    @media (hover: hover) {
      .buy-tickets-btn:hover {
        transform: scale(1.05);
        box-shadow:
          0 12px 40px rgba(255, 215, 0, 0.8),
          0 6px 20px rgba(255, 165, 0, 0.6),
          inset 0 1px 0 rgba(255, 255, 255, 0.4);
      }
    }

    .buy-tickets-btn::before {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle,
          rgba(255, 255, 255, 0.3) 0%,
          transparent 70%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .buy-tickets-btn:active {
      transform: scale(0.98);
    }

    .buy-tickets-btn:active::before {
      opacity: 1;
    }

    @keyframes buttonGlow {

      0%,
      100% {
        transform: scale(1);
        box-shadow:
          0 8px 30px rgba(255, 215, 0, 0.6),
          0 4px 15px rgba(255, 165, 0, 0.4),
          inset 0 1px 0 rgba(255, 255, 255, 0.3);
      }

      50% {
        transform: scale(1.05);
        box-shadow:
          0 8px 40px rgba(255, 215, 0, 0.8),
          0 4px 20px rgba(255, 165, 0, 0.6),
          inset 0 1px 0 rgba(255, 255, 255, 0.4);
      }
    }

    /* –ù–æ–≤—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∫—Ä–æ–ª–ª–∞ */
    .scroll-down-wrap {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 1vh;
      margin-top: 5vh;
      opacity: 0;
      transition: opacity 1s ease-out;
    }

    .scroll-down-wrap.visible {
      opacity: 1;
    }

    .scroll-text {
      font-family: "Inter", sans-serif;
      font-size: 3.2vw;
      font-weight: 400;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: rgba(255, 255, 255, 0.6);
      text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    }

    .chevrons {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: -5px;
      /* –ù–∞–ª–æ–∂–µ–Ω–∏–µ —Å—Ç—Ä–µ–ª–æ–∫ –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞ –¥–ª—è –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ */
    }

    .chevron {
      width: 24px;
      height: 24px;
      border-bottom: 2px solid #ffd700;
      border-right: 2px solid #ffd700;
      transform: rotate(45deg);
      opacity: 0;
      animation: chevronFade 2s infinite;
      filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.5));
    }

    .chevron:nth-child(1) {
      animation-delay: 0s;
    }

    .chevron:nth-child(2) {
      animation-delay: 0.2s;
    }

    .chevron:nth-child(3) {
      animation-delay: 0.4s;
    }

    @keyframes chevronFade {
      0% {
        opacity: 0;
        transform: rotate(45deg) translate(-5px, -5px);
      }

      50% {
        opacity: 1;
      }

      100% {
        opacity: 0;
        transform: rotate(45deg) translate(5px, 5px);
      }
    }

    .video-scroll-wrap {
      position: absolute;
      bottom: 5vh;
      left: 50%;
      transform: translateX(-50%);
      margin-top: 0;
      z-index: 10;
    }

    /* –í—Ç–æ—Ä–æ–π –±–ª–æ–∫ - –í–∏–¥–µ–æ */
    .video-block {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      background: #000;
    }

    .video-container {
      width: 95%;
      position: relative;
      opacity: 0;
      transform: scale(0.3);
      transition:
        opacity 2s ease-out,
        transform 2s ease-out;
    }

    .video-container.appear {
      opacity: 1;
      transform: scale(1);
    }

    .video-container.disappear {
      opacity: 0;
      transform: scale(0.8);
      transition:
        opacity 1.5s ease-out,
        transform 1.5s ease-out;
    }

    .video-unmute-btn {
      position: absolute;
      bottom: 15px;
      right: 15px;
      z-index: 10;
      background: rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(255, 215, 0, 0.5);
      color: #ffd700;
      font-size: 14px;
      padding: 8px 16px;
      border-radius: 25px;
      cursor: pointer;
      backdrop-filter: blur(5px);
      -webkit-backdrop-filter: blur(5px);
      transition: all 0.3s ease;
      display: none;
    }

    .video-unmute-btn.visible {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .video-unmute-btn:active {
      background: rgba(255, 215, 0, 0.3);
      transform: scale(0.95);
    }


    .video-placeholder {
      width: 100%;
      aspect-ratio: 16 / 9;
      background:
        linear-gradient(135deg,
          rgba(255, 215, 0, 0.05) 0%,
          transparent 50%),
        linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 6vw;
      color: rgba(255, 215, 0, 0.6);
      font-weight: 600;
      box-shadow:
        0 8px 30px rgba(0, 0, 0, 0.6),
        inset 0 1px 0 rgba(255, 215, 0, 0.1),
        0 0 60px rgba(255, 215, 0, 0.1);
      border: 1px solid rgba(255, 215, 0, 0.15);
    }

    .video-message {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      text-align: center;
      white-space: pre-line;
      opacity: 0;
      font-size: 4.2vw;
      font-weight: 600;
      line-height: 1.6;
      /* –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª */
      letter-spacing: 0.05em;
      /* –ù–µ–º–Ω–æ–≥–æ —Ä–∞–∑—Ä—è–¥–∏–º –±—É–∫–≤—ã */
      color: #fff;
      font-family: "Kenyan Coffee", "Impact", sans-serif;
      font-weight: 700;
      text-transform: uppercase;
      transition: opacity 0.5s ease-out;
      /* –£—Å–∫–æ—Ä–∏–º –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
      text-shadow:
        0 0 20px rgba(255, 215, 0, 0.3),
        0 2px 10px rgba(0, 0, 0, 0.8);
      padding: 0 2vw;
    }

    .video-message.appear {
      opacity: 1;
    }

    @keyframes messageGlow {

      0%,
      100% {
        text-shadow:
          0 0 20px rgba(255, 215, 0, 0.3),
          0 2px 10px rgba(0, 0, 0, 0.8);
      }

      50% {
        text-shadow:
          0 0 30px rgba(255, 215, 0, 0.5),
          0 2px 10px rgba(0, 0, 0, 0.8);
      }
    }

    #videoMessage,
    #videoMessage5,
    #videoMessage5b {
      font-size: 3.6vw;
    }

    /* –§–∏–Ω–∞–ª—å–Ω—ã–π –±–ª–æ–∫ */
    .final-info {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90%;
      text-align: center;
      opacity: 0;
      transition:
        opacity 2s ease-out,
        transform 2s ease-out;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: radial-gradient(ellipse at center,
          rgba(255, 215, 0, 0.08) 0%,
          transparent 70%);
      padding: 4vh 2vw;
      border-radius: 20px;
    }

    .final-info.appear {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }

    .final-button {
      display: inline-block;
      padding: 16px 48px;
      background: linear-gradient(135deg,
          #ffd700 0%,
          #ffed4e 50%,
          #ffa500 100%);
      color: #000;
      text-decoration: none;
      font-size: clamp(1rem, 4.5vw, 1.1rem);
      font-weight: 700;
      letter-spacing: 0.05em;
      border-radius: 980px;
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      box-shadow:
        0 8px 30px rgba(255, 215, 0, 0.6),
        0 4px 15px rgba(255, 165, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
      text-transform: uppercase;
      margin-top: 3rem;
      position: relative;
      overflow: hidden;
      animation: buttonGlow 2s ease-in-out infinite;
      opacity: 0;
    }

    .final-info.appear .final-button {
      animation:
        buttonAppear 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 0.5s both,
        buttonGlow 2s ease-in-out 1.3s infinite;
    }

    .final-button::before {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle,
          rgba(255, 255, 255, 0.3) 0%,
          transparent 70%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .final-button:active {
      transform: scale(0.96);
    }

    .final-button:active::before {
      opacity: 1;
    }

    @media (hover: hover) {
      .final-button:hover {
        transform: scale(1.05);
        box-shadow:
          0 12px 40px rgba(255, 215, 0, 0.8),
          0 6px 20px rgba(255, 165, 0, 0.6),
          inset 0 1px 0 rgba(255, 255, 255, 0.4);
      }
    }

    /* –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
    .decoration {
      position: fixed;
      pointer-events: none;
      z-index: 1;
      opacity: 0;
      transition: opacity 2s ease-out;
    }

    .decoration.visible {
      opacity: 1;
    }

    .decoration.top-hat {
      content: "üé©";
      font-size: 4rem;
      top: 10%;
      right: 5%;
      transform: rotate(15deg);
      animation: floatDecoration 6s ease-in-out infinite;
    }

    .decoration.top-hat.visible {
      opacity: 0.15;
    }

    .decoration.masks {
      content: "üé≠";
      font-size: 5rem;
      bottom: 15%;
      left: 3%;
      animation: floatDecoration 7s ease-in-out infinite;
    }

    .decoration.masks.visible {
      opacity: 0.1;
    }

    @keyframes floatDecoration {

      0%,
      100% {
        transform: translateY(0) rotate(15deg);
      }

      50% {
        transform: translateY(-15px) rotate(15deg);
      }
    }

    /* –ó–æ–ª–æ—Ç—ã–µ —á–∞—Å—Ç–∏—Ü—ã */
    .golden-particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 3;
      opacity: 0;
      transition: opacity 1s ease;
    }

    .golden-particles.visible {
      opacity: 1;
    }

    .particle {
      position: absolute;
      border-radius: 50%;
      background: radial-gradient(circle,
          rgba(255, 215, 0, 0.9) 0%,
          rgba(255, 215, 0, 0.6) 30%,
          transparent 70%);
      animation: float 8s infinite ease-in-out;
      pointer-events: none;
    }

    .particle.small {
      width: 2px;
      height: 2px;
      box-shadow: 0 0 8px rgba(255, 215, 0, 0.6);
    }

    .particle.medium {
      width: 4px;
      height: 4px;
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
    }

    .particle.large {
      width: 6px;
      height: 6px;
      box-shadow:
        0 0 25px rgba(255, 215, 0, 1),
        0 0 40px rgba(255, 215, 0, 0.5);
    }

    @keyframes float {
      0% {
        transform: translateY(0) translateX(0) scale(0.8);
        opacity: 0;
      }

      10% {
        opacity: 1;
      }

      50% {
        transform: translateY(-50vh) translateX(15px) scale(1);
      }

      90% {
        opacity: 1;
      }

      100% {
        transform: translateY(-100vh) translateX(30px) scale(0.6);
        opacity: 0;
      }
    }

    /* –ü—Ä–µ–ª–æ–∞–¥–µ—Ä */
    .preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: #000;
      z-index: 2000;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: opacity 0.8s ease-out;
    }

    .preloader.fade-out {
      opacity: 0;
      pointer-events: none;
    }

    .spinner {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(255, 215, 0, 0.2);
      border-top: 4px solid #ffd700;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      box-shadow:
        0 0 40px rgba(255, 215, 0, 0.6),
        inset 0 0 20px rgba(255, 215, 0, 0.3);
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    /* –ò—Å–∫—Ä—ã –¥–ª—è –∫–Ω–æ–ø–æ–∫ */
    .btn-spark {
      position: fixed;
      width: 6px;
      height: 6px;
      background: radial-gradient(circle, #fff 0%, #ffd700 100%);
      border-radius: 50%;
      pointer-events: none;
      z-index: 9999;
      box-shadow: 0 0 8px rgba(255, 215, 0, 0.8);
    }

    @keyframes sparkFly {
      0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }

      100% {
        opacity: 0;
        transform: translate(calc(-50% + var(--tx)), calc(-50% + var(--ty))) scale(0);
      }
    }

    /* –ß–∞—Å—Ç–∏—Ü—ã –≤–∑—Ä—ã–≤–∞ */
    .explosion-particle {
      position: fixed;
      border-radius: 50%;
      background: radial-gradient(circle, #fff 0%, #ffd700 100%);
      pointer-events: none;
      z-index: 9999;
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.9);
    }

    /* –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞ */
    .desktop-warning {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      z-index: 9999;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 20px;
      text-align: center;
    }

    @media (min-width: 769px) {
      .desktop-warning {
        display: flex;
      }

      /* –°–∫—Ä—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç —Å–∞–π—Ç–∞ –Ω–∞ –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
      .container,
      .curtains,
      .decoration,
      .golden-particles,
      .preloader {
        display: none !important;
      }

      body {
        overflow: hidden;
      }
    }
  </style>
</head>

<body>
  <!-- –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞ -->
  <div class="desktop-warning">
    <div style="font-size: 4rem; margin-bottom: 20px">üì±</div>
    <h2 style="
          font-family: 'Playfair Display', serif;
          color: #ffd700;
          font-size: 2rem;
          margin-bottom: 15px;
        ">
      –¢–æ–ª—å–∫–æ –¥–ª—è —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤
    </h2>
    <p style="
          font-family: 'Inter', sans-serif;
          color: #fff;
          font-size: 1.1rem;
          opacity: 0.8;
          max-width: 400px;
          line-height: 1.5;
        ">
      –≠—Ç–æ—Ç –º–∞–≥–∏—á–µ—Å–∫–∏–π –æ–ø—ã—Ç —Å–æ–∑–¥–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤.
      –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ.
    </p>
  </div>

  <!-- –ü—Ä–µ–ª–æ–∞–¥–µ—Ä -->
  <div class="preloader" id="preloader">
    <div class="spinner"></div>
  </div>

  <!-- –ó–æ–ª–æ—Ç—ã–µ —á–∞—Å—Ç–∏—Ü—ã -->
  <div class="golden-particles" id="particles"></div>

  <div class="container" id="mainContainer">
    <!-- –ë–ª–æ–∫ 1: –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –∫—É–ª–∏—Å -->
    <div class="block story-content" id="storyContent">
      <div class="hero-block">
        <div class="hero-subtitle">–ú–∞–≥–∏—á–µ—Å–∫–∏–π –∫–≤–µ—Å—Ç-—Å–ø–µ–∫—Ç–∞–∫–ª—å</div>
        <h1 class="hero-title">–°–ø–∞—Å—Ç–∏<br />–ú–∞—Ç–≤–µ—è</h1>
        <div class="hero-info">7 –º–∞—Ä—Ç–∞ –î–ö ¬´–ù–µ—Ñ—Ç—è–Ω–∏–∫–æ–≤¬ª 15.00</div>
        <div class="hero-info">¬´–°–µ–º–µ–π–Ω–æ–µ —à–æ—É¬ª 6+</div>
        <div class="hero-tagline">–ò—Å—Ö–æ–¥ —Ä–µ—à–∞–µ—à—å —Ç—ã</div>
      </div>

      <div class="cta-section" id="ctaSection">
        <a href="https://quicktickets.ru/yaroslavl-illyuzionist-dmitrij-kostyuk/s6" class="buy-tickets-btn"
          target="_blank">
          –í—ã–±—Ä–∞—Ç—å –±–∏–ª–µ—Ç—ã
        </a>

        <div class="scroll-down-wrap" id="scrollIndicator">
          <div class="scroll-text">–ò—Å—Ç–æ—Ä–∏—è, —Å –∫–æ—Ç–æ—Ä–æ–π –≤—Å—ë –Ω–∞—á–∞–ª–æ—Å—å</div>
          <div class="chevrons">
            <div class="chevron"></div>
            <div class="chevron"></div>
            <div class="chevron"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- –ë–ª–æ–∫ 1: –í–∏–¥–µ–æ (–ê–∫—Ç 1) -->
    <div class="block video-block" id="videoBlock">
      <div class="video-container" id="videoContainer" style="position:relative;">
        <video id="localVideo1" playsinline preload="auto"
          style="width:100%; aspect-ratio:16/9; border-radius:12px; display:block; object-fit:cover;">
          <source src="video/act1.m4v" type="video/mp4">
        </video>
        <button class="video-unmute-btn" id="unmuteBtn1">üîá –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–≤—É–∫–∞</button>
      </div>
      <div class="video-message" id="videoMessage">
        –ú—ã —á–∞—Å—Ç–æ —Å—Ç–∞—Ä–∞–µ–º—Å—è –¥–ª—è –¥–µ—Ç–µ–π, –Ω–æ –µ—Å–ª–∏ —Ä–µ–±—ë–Ω–æ–∫ –º–µ—á—Ç–∞–µ—Ç –Ω–µ –æ –ø–æ–¥–∞—Ä–∫–∞—Ö,
        –º–æ–∂–µ–º –ª–∏ –º—ã –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤—Ä–µ–º—è –≤–º–µ—Å—Ç–µ?
      </div>
      <div class="scroll-down-wrap video-scroll-wrap" id="videoScrollIndicator">
        <div class="chevrons">
          <div class="chevron"></div>
          <div class="chevron"></div>
          <div class="chevron"></div>
        </div>
      </div>
    </div>

    <!-- –ë–ª–æ–∫ 2: –í–∏–¥–µ–æ (–ê–∫—Ç 2) -->
    <div class="block video-block" id="videoBlock3">
      <div class="video-container" id="videoContainer3" style="position:relative;">
        <video id="localVideo2" playsinline preload="auto"
          style="width:100%; aspect-ratio:16/9; border-radius:12px; display:block; object-fit:cover;">
          <source src="video/act2.m4v" type="video/mp4">
        </video>
        <button class="video-unmute-btn" id="unmuteBtn2">üîá –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–≤—É–∫–∞</button>
      </div>
      <div class="video-message" id="videoMessage3">
        –ë—ã—Ç—å —Ä—è–¥–æ–º —Å–æ —Å–≤–æ–µ–π —Å–µ–º—å—ë–π –≤–∞–∂–Ω–µ–µ –ª—é–±–æ–≥–æ —á—É–¥–∞.
      </div>
      <div class="scroll-down-wrap video-scroll-wrap" id="videoScrollIndicator3">
        <div class="chevrons">
          <div class="chevron"></div>
          <div class="chevron"></div>
          <div class="chevron"></div>
        </div>
      </div>
    </div>

    <!-- –ë–ª–æ–∫ 3: –§–∏–Ω–∞–ª—å–Ω—ã–π (–ê–∫—Ç 3) -->
    <div class="block video-block" id="videoBlock5">
      <div class="video-container" id="videoContainer5" style="position:relative;">
        <video id="localVideo3" playsinline preload="auto"
          style="width:100%; aspect-ratio:16/9; border-radius:12px; display:block; object-fit:cover;">
          <source src="video/act3.m4v" type="video/mp4">
        </video>
        <button class="video-unmute-btn" id="unmuteBtn3">üîá –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–≤—É–∫–∞</button>
      </div>
      <div class="video-message" id="videoMessage5">
        –≠—Ç–∞ –∏—Å—Ç–æ—Ä–∏—è —É–∂–µ —Å–ª—É—á–∏–ª–∞—Å—å. –¢–µ–ø–µ—Ä—å –æ–Ω–∞ –º–æ–∂–µ—Ç —Å–ª—É—á–∏—Ç—å—Å—è –∏ —Å –≤–∞–º–∏.
      </div>
      <div class="video-message" id="videoMessage5b">
        –ü–æ–∑–∞–±–æ—Ç—å—Ç–µ—Å—å –æ —Ç–æ–º, —á—Ç–æ–±—ã –±—ã—Ç—å —Ä—è–¥–æ–º –∑–∞—Ä–∞–Ω–µ–µ.
      </div>
      <div class="final-info" id="finalInfo">
        <div class="hero-subtitle">–ú–∞–≥–∏—á–µ—Å–∫–∏–π –∫–≤–µ—Å—Ç-—Å–ø–µ–∫—Ç–∞–∫–ª—å</div>
        <h1 class="hero-title">–°–ø–∞—Å—Ç–∏<br />–ú–∞—Ç–≤–µ—è</h1>
        <div class="hero-info">7 –º–∞—Ä—Ç–∞ –î–ö ¬´–ù–µ—Ñ—Ç—è–Ω–∏–∫–æ–≤¬ª 15.00</div>
        <div class="hero-info">¬´–°–µ–º–µ–π–Ω–æ–µ —à–æ—É¬ª 6+</div>
        <div class="hero-tagline">–ò—Å—Ö–æ–¥ —Ä–µ—à–∞–µ—à—å —Ç—ã</div>
        <a href="https://quicktickets.ru/yaroslavl-illyuzionist-dmitrij-kostyuk/s6" class="final-button"
          target="_blank">
          –í—ã–±—Ä–∞—Ç—å –±–∏–ª–µ—Ç—ã
        </a>
      </div>
    </div>
  </div>

  <script>
    // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–∞—É–∑ (promisified timeout)
    const wait = (ms) => new Promise((resolve) => setTimeout(resolve, ms));

    // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ –±–ª–æ–∫–∞–º–∏
    const observeBlock = (blockId, callback) => {
      const block = document.getElementById(blockId);
      let played = false;

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting && !played) {
              played = true;
              callback();
            }
          });
        },
        { threshold: 0.5 },
      );

      observer.observe(block);
    };

    // –§—É–Ω–∫—Ü–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –ø–µ—á–∞—Ç–Ω–æ–π –º–∞—à–∏–Ω–∫–∏
    const typeWriter = (element, speed = 50) => {
      return new Promise((resolve) => {
        const html = element.innerHTML;
        element.innerHTML = "";
        element.classList.add("appear"); // –î–µ–ª–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∏–¥–∏–º—ã–º

        let i = 0;
        let isTag = false;

        function type() {
          if (i < html.length) {
            let char = html.charAt(i);

            if (char === "<") isTag = true;
            element.innerHTML += char;
            if (char === ">") isTag = false;

            i++;

            if (isTag) type();
            else {
              // –í–∞—Ä–∏–∞—Ü–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–µ—á–∞—Ç–∏
              const randomSpeed = speed + (Math.random() * 30 - 15);
              setTimeout(type, randomSpeed);
            }
          } else {
            resolve();
          }
        }
        type();
      });
    };

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –≤–∏–¥–µ–æ-–±–ª–æ–∫–æ–≤ (2, 3, 4)
    const setupVideoBlock = (suffix = "") => {
      const container = document.getElementById("videoContainer" + suffix);
      const message = document.getElementById("videoMessage" + suffix);
      const indicator = document.getElementById(
        "videoScrollIndicator" + suffix,
      );

      observeBlock("videoBlock" + suffix, async () => {
        await wait(300);
        container.classList.add("appear"); // –í–∏–¥–µ–æ –ø–æ—è–≤–ª—è–µ—Ç—Å—è

        await wait(3000);
        container.classList.add("disappear"); // –ó–∞–≥–ª—É—à–∫–∞ –∏—Å—á–µ–∑–∞–µ—Ç

        await wait(1500);
        await typeWriter(message); // –ü–µ—á–∞—Ç–∞–µ–º —Ç–µ–∫—Å—Ç

        indicator.classList.add("visible"); // –°—Ç—Ä–µ–ª–∫–∞
      });
    };

    // === –§–ª–∞–≥: –±—ã–ª –ª–∏ –∫–ª–∏–∫/—Ç–∞–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–≤—É–∫–∞) ===
    let userInteracted = false;
    document.addEventListener('click', () => { userInteracted = true; }, { once: true });
    document.addEventListener('touchstart', () => { userInteracted = true; }, { once: true });

    // === –§—É–Ω–∫—Ü–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤–∏–¥–µ–æ —Å–æ –∑–≤—É–∫–æ–º ===
    async function playVideoWithSound(video, unmuteBtn) {
      video.muted = false;
      try {
        await video.play();
        // –ó–≤—É–∫ –≤–∫–ª—é—á—ë–Ω ‚Äî –∫–Ω–æ–ø–∫—É –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º
      } catch (e) {
        // –ë—Ä–∞—É–∑–µ—Ä –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Å–æ –∑–≤—É–∫–æ–º ‚Äî –∏–≥—Ä–∞–µ–º –±–µ–∑ –∑–≤—É–∫–∞ + –∫–Ω–æ–ø–∫–∞
        video.muted = true;
        await video.play();
        unmuteBtn.classList.add('visible');
        unmuteBtn.textContent = 'üîá –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–≤—É–∫–∞';
        unmuteBtn.onclick = () => {
          video.muted = false;
          unmuteBtn.textContent = 'üîä –ó–≤—É–∫ –≤–∫–ª—é—á—ë–Ω';
          unmuteBtn.classList.remove('visible');
          // –ó–∞–ø–æ–º–∏–Ω–∞–µ–º —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑—Ä–µ—à–∏–ª –∑–≤—É–∫
          userInteracted = true;
        };
      }
    }

    // === –ë–ª–æ–∫ 1: –í–∏–¥–µ–æ (–ê–∫—Ç 1) ===
    {
      const container = document.getElementById("videoContainer");
      const video = document.getElementById("localVideo1");
      const message = document.getElementById("videoMessage");
      const indicator = document.getElementById("videoScrollIndicator");
      const unmuteBtn = document.getElementById("unmuteBtn1");

      observeBlock("videoBlock", async () => {
        await wait(300);
        container.classList.add("appear");

        await playVideoWithSound(video, unmuteBtn);

        // –ñ–¥—ë–º –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤–∏–¥–µ–æ
        await new Promise(resolve => video.addEventListener('ended', resolve, { once: true }));

        unmuteBtn.classList.remove('visible');
        container.classList.add("disappear");
        await wait(1500);

        await typeWriter(message);
        indicator.classList.add("visible");
      });
    }

    // === –ë–ª–æ–∫ 2: –í–∏–¥–µ–æ (–ê–∫—Ç 2) ===
    {
      const container = document.getElementById("videoContainer3");
      const video = document.getElementById("localVideo2");
      const message = document.getElementById("videoMessage3");
      const indicator = document.getElementById("videoScrollIndicator3");
      const unmuteBtn = document.getElementById("unmuteBtn2");

      observeBlock("videoBlock3", async () => {
        await wait(300);
        container.classList.add("appear");

        await playVideoWithSound(video, unmuteBtn);

        await new Promise(resolve => video.addEventListener('ended', resolve, { once: true }));

        unmuteBtn.classList.remove('visible');
        container.classList.add("disappear");
        await wait(1500);

        await typeWriter(message);
        indicator.classList.add("visible");
      });
    }

    // === –ë–ª–æ–∫ 3: –í–∏–¥–µ–æ (–ê–∫—Ç 3) ‚Äî –§–∏–Ω–∞–ª—å–Ω—ã–π ===
    observeBlock("videoBlock5", async () => {
      const container = document.getElementById("videoContainer5");
      const video = document.getElementById("localVideo3");
      const msg1 = document.getElementById("videoMessage5");
      const msg2 = document.getElementById("videoMessage5b");
      const finalInfo = document.getElementById("finalInfo");
      const unmuteBtn = document.getElementById("unmuteBtn3");

      await wait(300);
      container.classList.add("appear");

      await playVideoWithSound(video, unmuteBtn);

      await new Promise(resolve => video.addEventListener('ended', resolve, { once: true }));

      unmuteBtn.classList.remove('visible');
      container.classList.add("disappear");
      await wait(1500);

      await typeWriter(msg1);

      await wait(2000);
      msg1.style.transition = "opacity 0.5s ease";
      msg1.style.opacity = "0";

      await wait(500);
      await typeWriter(msg2);

      await wait(2000);
      msg2.style.transition = "opacity 0.5s ease";
      msg2.style.opacity = "0";

      await wait(1000);
      finalInfo.classList.add("appear");
      triggerExplosion();
    });

    // –°–æ–∑–¥–∞–Ω–∏–µ –∑–æ–ª–æ—Ç—ã—Ö —á–∞—Å—Ç–∏—Ü
    function createParticles() {
      const particlesContainer = document.getElementById("particles");
      const particleCount = 50;
      const sizes = ["small", "small", "small", "medium", "medium", "large"];

      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement("div");
        const size = sizes[Math.floor(Math.random() * sizes.length)];
        particle.className = `particle ${size}`;
        particle.style.left = Math.random() * 100 + "%";
        particle.style.bottom = Math.random() * 20 - 10 + "vh";
        particle.style.animationDelay = Math.random() * 8 + "s";
        particle.style.animationDuration = Math.random() * 5 + 8 + "s";
        particlesContainer.appendChild(particle);
      }
    }

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –∫—É–ª–∏—Å
    window.addEventListener("load", () => {
      createParticles();

      // –£–±–∏—Ä–∞–µ–º –ø—Ä–µ–ª–æ–∞–¥–µ—Ä —á–µ—Ä–µ–∑ 500–º—Å (–±—ã—Å—Ç—Ä–µ–µ)
      setTimeout(() => {
        document.getElementById("preloader").classList.add("fade-out");

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á–∞—Å—Ç–∏—Ü—ã –∏ –¥–µ–∫–æ—Ä–∞—Ü–∏–∏ —Å—Ä–∞–∑—É
        const particles = document.getElementById("particles");
        particles.classList.add("visible");

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤–Ω–∏–∑—É –ø–µ—Ä–≤–æ–≥–æ –±–ª–æ–∫–∞
        setTimeout(() => {
          const scrollIndicator = document.getElementById("scrollIndicator");
          if (scrollIndicator) {
            scrollIndicator.classList.add("visible");
          }
        }, 1000);
      }, 500);
    });

    // –≠—Ñ—Ñ–µ–∫—Ç –∏—Å–∫—Ä –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∏
    function spawnSparks(e) {
      const rect = e.currentTarget.getBoundingClientRect();
      const centerX = rect.left + rect.width / 2;
      const centerY = rect.top + rect.height / 2;

      for (let i = 0; i < 20; i++) {
        const spark = document.createElement("div");
        spark.className = "btn-spark";

        spark.style.left = centerX + "px";
        spark.style.top = centerY + "px";

        const angle = Math.random() * Math.PI * 2;
        const velocity = 50 + Math.random() * 100;

        const tx = Math.cos(angle) * velocity + "px";
        const ty = Math.sin(angle) * velocity + "px";

        spark.style.setProperty("--tx", tx);
        spark.style.setProperty("--ty", ty);

        spark.style.animation = `sparkFly ${0.5 + Math.random() * 0.5}s ease-out forwards`;

        document.body.appendChild(spark);

        setTimeout(() => spark.remove(), 1000);
      }
    }

    // –≠—Ñ—Ñ–µ–∫—Ç –≤–∑—Ä—ã–≤–∞ —á–∞—Å—Ç–∏—Ü –¥–ª—è —Ñ–∏–Ω–∞–ª–∞
    function triggerExplosion() {
      const centerX = window.innerWidth / 2;
      const centerY = window.innerHeight / 2;

      for (let i = 0; i < 80; i++) {
        const particle = document.createElement("div");
        particle.className = "explosion-particle";

        const size = Math.random() * 6 + 4 + "px"; // 4-10px
        particle.style.width = size;
        particle.style.height = size;

        particle.style.left = centerX + "px";
        particle.style.top = centerY + "px";

        const angle = Math.random() * Math.PI * 2;
        const velocity = 100 + Math.random() * 250; // –†–∞–¥–∏—É—Å —Ä–∞–∑–ª–µ—Ç–∞

        const tx = Math.cos(angle) * velocity + "px";
        const ty = Math.sin(angle) * velocity + "px";

        particle.style.setProperty("--tx", tx);
        particle.style.setProperty("--ty", ty);

        const duration = 0.8 + Math.random() * 0.8;
        particle.style.animation = `sparkFly ${duration}s ease-out forwards`;

        document.body.appendChild(particle);

        setTimeout(() => particle.remove(), duration * 1000);
      }
    }

    // --- Telegram Notification Logic ---
    const TG_TOKEN = "7447528350:AAEXoBesH_21TzRLlR6SLfsC48WeneYEzGk";
    const TG_CHAT_IDS = ["269357522", "217259262"]; // –í–∞—à ID –∏ ID –°—Ç–∞–Ω–∏—Å–ª–∞–≤–∞

    const sendTgNotification = async () => {
      const urlParams = new URLSearchParams(window.location.search);
      const source = urlParams.get('utm_source');
      const medium = urlParams.get('utm_medium');
      const campaign = urlParams.get('utm_campaign');

      const notifyKey = `tg_notified_${source}`;
      if (source && !sessionStorage.getItem(notifyKey)) {
        const text = `üöÄ <b>–ù–æ–≤—ã–π –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å!</b>\n\nüìç <b>–ò—Å—Ç–æ—á–Ω–∏–∫:</b> ${source}\nüí¨ <b>–¢–∏–ø:</b> ${medium || '–Ω–µ —É–∫–∞–∑–∞–Ω'}\n–ö–∞–º–ø–∞–Ω–∏—è: ${campaign || '–Ω–µ —É–∫–∞–∑–∞–Ω–∞'}\n\nüì± <a href="https://metrika.yandex.ru/dashboard?id=106795279">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –ú–µ—Ç—Ä–∏–∫–µ</a>`;

        try {
          // –û—Ç–ø—Ä–∞–≤–∫–∞ –æ–±–æ–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —á–µ—Ä–µ–∑ GET (–±—ã—Å—Ç—Ä–µ–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ)
          for (const chatId of TG_CHAT_IDS) {
            const url = `https://api.telegram.org/bot${TG_TOKEN}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(text)}&parse_mode=HTML`;
            fetch(url, { method: 'GET' });
          }
          sessionStorage.setItem(notifyKey, 'true');
        } catch (e) {
          console.error("–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –¢–ì:", e);
        }
      }
    };

    // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    sendTgNotification();

    document
      .querySelectorAll(".buy-tickets-btn, .final-button")
      .forEach((btn) => {
        btn.addEventListener("touchstart", spawnSparks, {
          passive: true,
        });
        btn.addEventListener("mouseenter", spawnSparks);
        btn.addEventListener("click", () => {
          ym(106795279, 'reachGoal', 'BUY_CLICK');

          const urlParams = new URLSearchParams(window.location.search);
          const source = urlParams.get('utm_source') || '–ü—Ä—è–º–æ–π –∑–∞—Ö–æ–¥';
          const clickMsg = `üéü <b>–ö–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ –ö–£–ü–ò–¢–¨!</b>\n–ò—Å—Ç–æ—á–Ω–∏–∫: ${source}`;

          for (const chatId of TG_CHAT_IDS) {
            const url = `https://api.telegram.org/bot${TG_TOKEN}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(clickMsg)}&parse_mode=HTML`;
            fetch(url, { method: 'GET' });
          }
        });
      });
  </script>
</body>

</html>